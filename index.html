<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Organizador de Comida</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .container { max-width: 600px; margin: auto; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f4f4f4; }
        button { margin-top: 10px; }
    </style>
</head>
<body>
    <div class="container">
        <h2>Organizador de Comida</h2>
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" placeholder="Ingresa tu nombre">
        <br><br>
        <label for="menu">Selecciona tu menú:</label>
        <select id="menu">
            <option value="MENU 1: CALÇOTADA + BUTIFARRA">MENU 1: CALÇOTADA + BUTIFARRA</option>
            <option value="MENU 2: CALÇOTADA XAI">MENU 2: CALÇOTADA XAI</option>
            <option value="MENU 3: CALÇOTADA Y CARTA">MENU 3: CALÇOTADA Y CARTA</option>
            <option value="MENU 4: CARTA">MENU 4: CARTA</option>
        </select>
        <br><br>
        <button onclick="agregarPedido()">Agregar Pedido</button>
        <button onclick="borrarPedidos()">Borrar Todos los Pedidos</button>
        
        <h3>Pedidos Realizados</h3>
        <table>
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Menú</th>
                    <th>Acción</th>
                </tr>
            </thead>
            <tbody id="listaPedidos"></tbody>
        </table>
        
        <h3>Resumen de Menús</h3>
        <ul id="resumen"></ul>
    </div>

    <script>
        let pedidos = JSON.parse(localStorage.getItem("pedidos")) || [];

        function agregarPedido() {
            let nombre = document.getElementById('nombre').value;
            let menu = document.getElementById('menu').value;
            
            if (nombre === "") {
                alert("Por favor, ingresa tu nombre.");
                return;
            }

            pedidos.push({ nombre, menu });
            localStorage.setItem("pedidos", JSON.stringify(pedidos));
            actualizarLista();
        }

        function borrarPedidos() {
            localStorage.removeItem("pedidos");
            pedidos = [];
            actualizarLista();
        }

        function borrarPedido(index) {
            pedidos.splice(index, 1);
            localStorage.setItem("pedidos", JSON.stringify(pedidos));
            actualizarLista();
        }

        function actualizarLista() {
            let lista = document.getElementById('listaPedidos');
            let resumen = document.getElementById('resumen');
            lista.innerHTML = "";
            resumen.innerHTML = "";
            
            let conteoMenus = {};
            
            pedidos.forEach((pedido, index) => {
                let fila = `<tr>
                    <td>${pedido.nombre}</td>
                    <td>${pedido.menu}</td>
                    <td><button onclick="borrarPedido(${index})">Eliminar</button></td>
                </tr>`;
                lista.innerHTML += fila;
                
                conteoMenus[pedido.menu] = (conteoMenus[pedido.menu] || 0) + 1;
            });
            
            for (let menu in conteoMenus) {
                resumen.innerHTML += `<li>${menu}: ${conteoMenus[menu]}</li>`;
            }
        }

        document.addEventListener("DOMContentLoaded", actualizarLista);
    </script>
</body>
</html>

